{"ast":null,"code":"import consumer from \"./consumer\";\nvar url = window.location.href;\nvar room_id = parseInt(url.substring(url.search(\"rooms/\") + 6));\nif (url.indexOf(\"rooms/\") != -1) {\n  consumer.subscriptions.create({\n    \"channel\": \"ChatroomChannel\",\n    \"room_id\": room_id\n  }, {\n    connected: function connected() {\n      console.log(\"Subscribed to \".concat(room_id));\n      // Called when the subscription is ready for use on the server\n    },\n    disconnected: function disconnected() {\n      // Called when the subscription has been terminated by the server\n    },\n    received: function received(data) {\n      var text = \"<p class ='bg-light'><b>\" + data.user_id + \"</b> : \" + data.context + \"</p>\";\n      var app = document.querySelector('#message-container');\n      app.append(text);\n    }\n  });\n}","map":{"version":3,"names":["consumer","url","window","location","href","room_id","parseInt","substring","search","indexOf","subscriptions","create","connected","console","log","disconnected","received","data","text","user_id","context","app","document","querySelector","append"],"sources":["/Users/nandhakumar/Documents/chatApp/App/app/javascript/channels/chatroom_channel.js"],"sourcesContent":["import consumer from \"./consumer\"\n\nlet url = window.location.href\nlet room_id = parseInt( url.substring(url.search(\"rooms/\") + 6) );\n\nif(url.indexOf(\"rooms/\") != -1){\n\n  consumer.subscriptions.create({\"channel\": \"ChatroomChannel\", \"room_id\": room_id}, {\n    connected() {\n      console.log(`Subscribed to ${room_id}`)\n      // Called when the subscription is ready for use on the server\n    },\n\n    disconnected() {\n      // Called when the subscription has been terminated by the server\n    },\n\n    received(data) {\n      let text = \"<p class ='bg-light'><b>\"+data.user_id+\"</b> : \"+data.context+\"</p>\";\n      let app = document.querySelector('#message-container');\n      app.append(text);\n    }\n  });\n\n}"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjC,IAAIC,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;AAC9B,IAAIC,OAAO,GAAGC,QAAQ,CAAEL,GAAG,CAACM,SAAS,CAACN,GAAG,CAACO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAE;AAEjE,IAAGP,GAAG,CAACQ,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAC;EAE7BT,QAAQ,CAACU,aAAa,CAACC,MAAM,CAAC;IAAC,SAAS,EAAE,iBAAiB;IAAE,SAAS,EAAEN;EAAO,CAAC,EAAE;IAChFO,SAAS,uBAAG;MACVC,OAAO,CAACC,GAAG,yBAAkBT,OAAO,EAAG;MACvC;IACF,CAAC;IAEDU,YAAY,0BAAG;MACb;IAAA,CACD;IAEDC,QAAQ,oBAACC,IAAI,EAAE;MACb,IAAIC,IAAI,GAAG,0BAA0B,GAACD,IAAI,CAACE,OAAO,GAAC,SAAS,GAACF,IAAI,CAACG,OAAO,GAAC,MAAM;MAChF,IAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;MACtDF,GAAG,CAACG,MAAM,CAACN,IAAI,CAAC;IAClB;EACF,CAAC,CAAC;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}