{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\n/** @typedef {import(\"./Dependency\").DependencyLocation} DependencyLocation */\n/** @typedef {import(\"./Dependency\").SourcePosition} SourcePosition */\n\n// TODO webpack 5: pos must be SourcePosition\n/**\n * @param {SourcePosition|DependencyLocation|string} pos position\n * @returns {string} formatted position\n */\nconst formatPosition = pos => {\n  if (pos === null) return \"\";\n  // TODO webpack 5: Simplify this\n  if (typeof pos === \"string\") return pos;\n  if (typeof pos === \"number\") return `${pos}`;\n  if (typeof pos === \"object\") {\n    if (\"line\" in pos && \"column\" in pos) {\n      return `${pos.line}:${pos.column}`;\n    } else if (\"line\" in pos) {\n      return `${pos.line}:?`;\n    } else if (\"index\" in pos) {\n      // TODO webpack 5 remove this case\n      return `+${pos.index}`;\n    } else {\n      return \"\";\n    }\n  }\n  return \"\";\n};\n\n// TODO webpack 5: loc must be DependencyLocation\n/**\n * @param {DependencyLocation|SourcePosition|string} loc location\n * @returns {string} formatted location\n */\nconst formatLocation = loc => {\n  if (loc === null) return \"\";\n  // TODO webpack 5: Simplify this\n  if (typeof loc === \"string\") return loc;\n  if (typeof loc === \"number\") return `${loc}`;\n  if (typeof loc === \"object\") {\n    if (\"start\" in loc && loc.start && \"end\" in loc && loc.end) {\n      if (typeof loc.start === \"object\" && typeof loc.start.line === \"number\" && typeof loc.end === \"object\" && typeof loc.end.line === \"number\" && typeof loc.end.column === \"number\" && loc.start.line === loc.end.line) {\n        return `${formatPosition(loc.start)}-${loc.end.column}`;\n      } else {\n        return `${formatPosition(loc.start)}-${formatPosition(loc.end)}`;\n      }\n    }\n    if (\"start\" in loc && loc.start) {\n      return formatPosition(loc.start);\n    }\n    if (\"name\" in loc && \"index\" in loc) {\n      return `${loc.name}[${loc.index}]`;\n    }\n    if (\"name\" in loc) {\n      return loc.name;\n    }\n    return formatPosition(loc);\n  }\n  return \"\";\n};\nmodule.exports = formatLocation;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}